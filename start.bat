@echo off
chcp 65001 >nul

echo =======================================================================
echo ๐ ูุธุงู ุจุตูุฑุฉ ุงูุซูุฑู - ููุดุบู ุณุฑูุน
echo ๐งฌ ุฌููุน ุงูุฃููุงุฑ ูุงููุธุฑูุงุช ูู ุฅุจุฏุงุน ุจุงุณู ูุญูู ุนุจุฏุงููู
echo ๐ ุงูุชุงุฑูุฎ: %date% %time%
echo =======================================================================

REM ุงูุชุญูู ูู ูุฌูุฏ Python
python --version >nul 2>&1
if %errorlevel% neq 0 (
    echo โ Python ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช Python 3.8 ุฃู ุฃุญุฏุซ
    pause
    exit /b 1
)

echo โ ุชู ุงูุนุซูุฑ ุนูู Python
python --version

REM ุงูุชุญูู ูู ูุฌูุฏ pip
pip --version >nul 2>&1
if %errorlevel% neq 0 (
    echo โ pip ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุช pip
    pause
    exit /b 1
)

REM ุชุซุจูุช ุงููุชุทูุจุงุช
echo ๐ ูุญุต ุงููุชุทูุจุงุช...
if exist requirements.txt (
    echo ๐ฆ ุชุซุจูุช ุงููุชุทูุจุงุช...
    pip install -r requirements.txt --quiet
    if %errorlevel% equ 0 (
        echo โ ุชู ุชุซุจูุช ุงููุชุทูุจุงุช ุจูุฌุงุญ
    ) else (
        echo โ๏ธ ุชุญุฐูุฑ: ูุฏ ุชููู ููุงู ูุดุงูู ูู ุชุซุจูุช ุจุนุถ ุงููุชุทูุจุงุช
    )
) else (
    echo โ๏ธ ููู requirements.txt ุบูุฑ ููุฌูุฏ
)

echo.
echo ๐ ุชุดุบูู ูุธุงู ุจุตูุฑุฉ ุงูุซูุฑู...
echo.

REM ุชุดุบูู ุงููุธุงู
python run_basera.py

echo.
echo ๐ ุดูุฑุงู ูุงุณุชุฎุฏุงู ูุธุงู ุจุตูุฑุฉ ุงูุซูุฑู!
echo ๐งฌ ุฌููุน ุงูุฃููุงุฑ ูุงููุธุฑูุงุช ูู ุฅุจุฏุงุน ุจุงุณู ูุญูู ุนุจุฏุงููู
pause
